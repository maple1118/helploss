<h2>Sign up</h2>

<%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
  <%= render "devise/customers/shared/error_messages", resource: resource %>

  <div class="field">
    <%= f.label :name %><br />
    <%= f.text_field :name, autofocus: true %>
  </div>

  <div class="field">
    <%= f.label :name_kana %><br />
    <%= f.text_field :name_kana, autofocus: true %>
  </div>

  <div class="field">
    <%= f.label :email %><br />
    <%= f.email_field :email, autofocus: true, autocomplete: "email" %>
  </div>

  <div class="field">
    <%= f.label :postcode %><br />
    <%= f.text_field :postcode, autofocus: true, autocomplete: "postcode", id:"customer_postcode" %>
  </div>

  <div class="field">
    <%= f.label :prefecture_code %><br />
    <%= f.collection_select :prefecture_code, JpPrefecture::Prefecture.all, :code, :name, id:"customer_prefecture_code" %>
  </div>

  <div class="field">
    <%= f.label :address_city %><br />
    <%= f.text_field :address_city, autofocus: true, autocomplete: "address_city", id:"customer_address_city" %>
  </div>

  <div class="field">
    <%= f.label :address_street %><br />
    <%= f.text_field :address_street, autofocus: true, autocomplete: "address_street", id:"customer_address_street" %>
  </div>

  <div class="field">
    <%= f.label :電話番号（ハイフンなし） %><br />
    <%= f.text_field :phone_namber, autofocus: true, autocomplete: "email" %>
  </div>

  <div class="field">
    <%= f.label :password %>
    <% if @minimum_password_length %>
    <em>(<%= @minimum_password_length %> characters minimum)</em>
    <% end %><br />
    <%= f.password_field :password, autocomplete: "new-password" %>
  </div>

  <div class="field">
    <%= f.label :password_confirmation %><br />
    <%= f.password_field :password_confirmation, autocomplete: "new-password" %>
  </div>

  <div class="actions">
    <%= f.submit "Sign up" %>
  </div>

<% end %>

<%= render "devise/customers/shared/links" %>

<div class="auto_button">
  <button id="auto" type="button" class="btn btn-light m-5">自動入力</button>
<div>

<script>
  $(function() {
  return $('#customer_postcode').jpostal({
      postcode: ['#customer_postcode'],
      address: {
        '#customer_prefecture_code': '%3',
        '#customer_address_city': '%4',
        '#customer_address_street': '%5%6%7',
      },
    });
  });
  // 自動入力
  document.getElementById("auto").onclick = function() {
    document.getElementById("customer_name").value = "浜辺美波";
    document.getElementById("customer_name_kana").value = "ハマベミナミ";
    document.getElementById("customer_email").value = "test@sample.com ";
    document.getElementById("customer_postcode").value = "1690051";
    var select = document.getElementById("customer_prefecture_code");
    select.options[12].selected = true;
    document.getElementById("customer_address_city").value = "新宿区";
    document.getElementById("customer_address_street").value = "西早稲田";
    document.getElementById("customer_phone_namber").value = "09012345678";
    document.getElementById("customer_password").value = "1q2w3e4r";
    document.getElementById("customer_password_confirmation").value = "1q2w3e4r";
  };
</script>
